<div ng-app="app">
 <div ng-controller="jobsCtrl" ng-init="setup()">

<br>
<br>

<div class="row card-panel orange">
<h4>Jobs I haven't applied to yet: </h4>
  <div class="row card-panel orange lighten-4" ng-repeat="job in notYetAppliedJobs | orderBy: 'updated_at' : true">
    <div class="row">
      <div class="col s2">Company</div>
      <div class="col s5">{{job.company}}</div>
    </div>
    <div class="row">
      <div class="col s2">Position</div>
      <div class="col s5">{{job.position}}</div>
    </div>
    <div class="row">
      <div class="col s2">Status</div>
      <div class="col s5">{{job.status}}</div>   
    </div> 
    <div input-field>
        <select ng-options="status as status for status in statuses" ng-model="updatedStatus[$index]" material-select watch>
        <option value="" disabled selected>Change application status</option>
        </select>
    </div>
    <button ng-click="updateStatus(job, updatedStatus[$index])">Update Status</button>
    <p> <a href="/jobs/{{job.id}}">See listing details </a> </p>
  </div>  
</div>

<div class="row card-panel yellow">
<h4>Jobs I am applying to: </h4>
  <div class="row card-panel yellow lighten-4" ng-repeat="job in applyingJobs | orderBy: 'updated_at' : true">
    <div class="row">
      <div class="col s2">Company</div>
      <div class="col s5">{{job.company}}</div>
    </div>
    <div class="row">
      <div class="col s2">Position</div>
      <div class="col s5">{{job.position}}</div>
    </div>
    <div class="row">
      <div class="col s2">Status</div>
      <div class="col s5">{{job.status}}</div>
    </div> 
    <div input-field>
        <select ng-options="status as status for status in statuses" ng-model="updatedStatus[$index]" material-select watch>
        <option value="" disabled selected>Change application status</option>
        </select>
    </div>
    <button ng-click="updateStatus(job, updatedStatus[$index])">Update Status</button> 
    <p> <a href="/jobs/{{job.id}}">See listing details </a> </p>
  </div>  
</div>


<div class="row card-panel light-green">
<h4>Jobs I applied to: </h4>
  <div class="row card-panel light-green lighten-4" ng-repeat="job in appliedJobs | orderBy: 'updated_at' : true">
    <div class="row">
      <div class="col s2">Company</div>
      <div class="col s5">{{job.company}}</div>
    </div>
    <div class="row">
      <div class="col s2">Position</div>
      <div class="col s5">{{job.position}}</div>
    </div>
    <div class="row">
      <div class="col s2">Status</div>
      <div class="col s5">{{job.status}}</div>
    </div>
    <div input-field>
        <select ng-options="status as status for status in statuses" ng-model="updatedStatus[$index]" material-select watch>
        <option value="" disabled selected>Change application status</option>
        </select>
    </div>
    <button ng-click="updateStatus(job, updatedStatus[$index])">Update Status</button>       
    <p> <a href="/jobs/{{job.id}}">See listing details </a> </p>
  </div>  
</div>

<div class="row card-panel teal">
<h4>Jobs I got an interview with: </h4>
  <div class="row card-panel teal lighten-4" ng-repeat="job in interviewSetupJobs | orderBy: 'updated_at' : true">
    <div class="row">
      <div class="col s2">Company</div>
      <div class="col s5">{{job.company}}</div>
    </div>
    <div class="row">
      <div class="col s2">Position</div>
      <div class="col s5">{{job.position}}</div>
    </div>
    <div class="row">
      <div class="col s2">Status</div>
      <div class="col s5">{{job.status}}</div>
    </div>
    <div input-field>
        <select ng-options="status as status for status in statuses" ng-model="updatedStatus[$index]" material-select watch>
        <option value="" disabled selected>Change application status</option>
        </select>
    </div>
    <button ng-click="updateStatus(job, updatedStatus[$index])">Update Status</button>
    <p> <a href="/jobs/{{job.id}}">See listing details </a> </p>
  </div>  
</div>


<div class="row card-panel indigo">
<h4>Jobs I interviewed with: </h4>
  <div class="row card-panel indigo lighten-4" ng-repeat="job in interviewedJobs | orderBy: 'updated_at' : true">
    <div class="row">
      <div class="col s2">Company</div>
      <div class="col s5">{{job.company}}</div>
    </div>
    <div class="row">
      <div class="col s2">Position</div>
      <div class="col s5">{{job.position}}</div>
    </div>
    <div class="row">
      <div class="col s2">Status</div>
      <div class="col s5">{{job.status}}</div>
    </div>
    <div input-field>
        <select ng-options="status as status for status in statuses" ng-model="updatedStatus[$index]" material-select watch>
        <option value="" disabled selected>Change application status</option>
        </select>
    </div>
    <button ng-click="updateStatus(job, updatedStatus[$index])">Update Status</button>
    <p> <a href="/jobs/{{job.id}}">See listing details </a> </p>
  </div>  
</div>

<div class="row card-panel deep-purple">
<h4>Jobs I've received offers from: </h4>
  <div class="row card-panel deep-purple lighten-4" ng-repeat="job in offeredJobs | orderBy: 'updated_at' : true">
    <div class="row">
      <div class="col s2">Company</div>
      <div class="col s5">{{job.company}}</div>
    </div>
    <div class="row">
      <div class="col s2">Position</div>
      <div class="col s5">{{job.position}}</div>
    </div>
    <div class="row">
      <div class="col s2">Status</div>
      <div class="col s5">{{job.status}}</div>
    </div> 
    <div input-field>
        <select ng-options="status as status for status in statuses" ng-model="updatedStatus[$index]" material-select watch>
        <option value="" disabled selected>Change application status</option>
        </select>
    </div>
    <button ng-click="updateStatus(job, updatedStatus[$index])">Update Status</button> 
    <p> <a href="/jobs/{{job.id}}">See listing details </a> </p>
  </div>  
</div>


<script>  
  $(document).ready(function() {
    $('select').material_select();
  });

  $(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal-trigger').leanModal();
  });
</script>



